{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/csjs-inject/csjs.js",
    "node_modules/csjs-inject/get-css.js",
    "node_modules/csjs-inject/index.js",
    "node_modules/csjs/csjs.js",
    "node_modules/csjs/get-css.js",
    "node_modules/csjs/index.js",
    "node_modules/csjs/lib/base62-encode.js",
    "node_modules/csjs/lib/build-exports.js",
    "node_modules/csjs/lib/composition.js",
    "node_modules/csjs/lib/csjs.js",
    "node_modules/csjs/lib/css-extract-extends.js",
    "node_modules/csjs/lib/css-key.js",
    "node_modules/csjs/lib/extract-exports.js",
    "node_modules/csjs/lib/get-css.js",
    "node_modules/csjs/lib/hash-string.js",
    "node_modules/csjs/lib/regex.js",
    "node_modules/csjs/lib/replace-animations.js",
    "node_modules/csjs/lib/scoped-name.js",
    "node_modules/csjs/lib/scopeify.js",
    "node_modules/insert-css/index.js",
    "node_modules/yo-yoify/lib/appendChild.js",
    "src/index.js"
  ],
  "names": [
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "require",
    "i",
    "f",
    "Error",
    "code",
    "l",
    "exports",
    "call",
    "length",
    "1",
    "module",
    "csjsInserter",
    "args",
    "Array",
    "prototype",
    "slice",
    "arguments",
    "result",
    "csjs",
    "apply",
    "global",
    "document",
    "insertCss",
    "getCss",
    "noScope",
    "noscope",
    "integer",
    "str",
    "Math",
    "floor",
    "getClassChain",
    "obj",
    "traverse",
    "Object",
    "keys",
    "forEach",
    "key",
    "visited",
    "acc",
    "push",
    "makeComposition",
    "classes",
    "keyframes",
    "compositions",
    "keyframesObj",
    "reduce",
    "val",
    "composition",
    "extended",
    "allClasses",
    "concat",
    "unscoped",
    "map",
    "name",
    "classNames",
    "isAnimation",
    "classString",
    "join",
    "create",
    "Composition",
    "value",
    "freeze",
    "configurable",
    "writable",
    "enumerable",
    "className",
    "selector",
    "toString",
    "writeable",
    "isComposition",
    "ignoreComposition",
    "values",
    "selectorize",
    "joiner",
    "strings",
    "without",
    "unwanted",
    "extractExtends",
    "buildExports",
    "scopify",
    "cssKey",
    "extractExports",
    "opts",
    "css",
    "ignores",
    "scope",
    "extracted",
    "localClasses",
    "localKeyframes",
    "defineProperty",
    "splitter",
    "match",
    "split",
    "getClassName",
    "trimmed",
    "trim",
    "substr",
    "regex",
    "extractCompositions",
    "extendee",
    "keyword",
    "index",
    "len",
    "found",
    "matches",
    "exec",
    "unshift",
    "getExport",
    "keyframesRegex",
    "classRegex",
    "prop",
    "hash",
    "charCodeAt",
    "findClasses",
    "source",
    "findKeyframes",
    "ignoreComments",
    "RegExp",
    "replaceAnimations",
    "animations",
    "regexStr",
    "replace",
    "preamble",
    "ending",
    "encode",
    "fileSrc",
    "suffix",
    "scopeCss",
    "replaceFn",
    "fullMatch",
    "prefix",
    "scopedName",
    "makeScopedName",
    "replacer",
    "replacers",
    "fileScoper",
    "inserted",
    "options",
    "elem",
    "createElement",
    "setAttribute",
    "textContent",
    "styleSheet",
    "cssText",
    "head",
    "getElementsByTagName",
    "prepend",
    "insertBefore",
    "childNodes",
    "appendChild",
    "yoyoifyAppendChild",
    "el",
    "childs",
    "node",
    "isArray",
    "Date",
    "lastChild",
    "nodeName",
    "nodeValue",
    "createTextNode",
    "nodeType",
    "playVideo",
    "streaming",
    "video",
    "width",
    "height",
    "canvas",
    "takePicture",
    "preventDefault",
    "snapshot",
    "localMediaStream",
    "processing",
    "getContext",
    "drawImage",
    "filter",
    "crazyAlternative",
    "putImageData",
    "toDataURL",
    "photo",
    "console",
    "error",
    "clearphoto",
    "fillStyle",
    "fillRect",
    "savePicture",
    "generateImageName",
    "getAttribute",
    "log",
    "random",
    "start",
    "stopVideo",
    "videoSelect",
    "deviceId",
    "exact",
    "navigator",
    "mediaDevices",
    "getUserMedia",
    "then",
    "gotStream",
    "catch",
    "handleError",
    "src",
    "getTracks",
    "stop",
    "srcObject",
    "onloadedmetadata",
    "videoWidth",
    "videoHeight",
    "play",
    "onplay",
    "draw",
    "getImageData",
    "data",
    "greyscale",
    "setTimeout",
    "message",
    "_select",
    "_",
    "_select2",
    "_video",
    "_canvas",
    "_img",
    "_canvas2",
    "_code",
    "_code2",
    "_h",
    "_h2",
    "_2",
    "_camera",
    "_h3",
    "_button",
    "_canvas3",
    "_h4",
    "_button2",
    "_div",
    "_3",
    "_appendChild",
    "_templateObject",
    "action",
    "snap",
    "save",
    "String",
    "audioInputSelect",
    "audioOutputSelect",
    "oncanplay",
    "element",
    "mediabox",
    "onclick",
    "button",
    "body",
    "crazy",
    "clientWidth",
    "clientHeight",
    "c",
    "enumerateDevices",
    "firstChild",
    "removeChild",
    "kind",
    "label",
    "text"
  ],
  "mappings": "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",
  "sourceRoot": "../",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nvar csjs = require('csjs');\nvar insertCss = require('insert-css');\n\nfunction csjsInserter() {\n  var args = Array.prototype.slice.call(arguments);\n  var result = csjs.apply(null, args);\n  if (global.document) {\n    insertCss(csjs.getCss(result));\n  }\n  return result;\n}\n\nmodule.exports = csjsInserter;\n",
    "'use strict';\n\nmodule.exports = require('csjs/get-css');\n",
    "'use strict';\n\nvar csjs = require('./csjs');\n\nmodule.exports = csjs;\nmodule.exports.csjs = csjs;\nmodule.exports.getCss = require('./get-css');\n",
    "'use strict';\n\nmodule.exports = require('./lib/csjs');\n",
    "'use strict';\n\nmodule.exports = require('./lib/get-css');\n",
    "'use strict';\n\nvar csjs = require('./csjs');\n\nmodule.exports = csjs();\nmodule.exports.csjs = csjs;\nmodule.exports.noScope = csjs({ noscope: true });\nmodule.exports.getCss = require('./get-css');\n",
    "'use strict';\n\n/**\n * base62 encode implementation based on base62 module:\n * https://github.com/andrew/base62.js\n */\n\nvar CHARS = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nmodule.exports = function encode(integer) {\n  if (integer === 0) {\n    return '0';\n  }\n  var str = '';\n  while (integer > 0) {\n    str = CHARS[integer % 62] + str;\n    integer = Math.floor(integer / 62);\n  }\n  return str;\n};\n",
    "'use strict';\n\nvar makeComposition = require('./composition').makeComposition;\n\nmodule.exports = function createExports(classes, keyframes, compositions) {\n  var keyframesObj = Object.keys(keyframes).reduce(function(acc, key) {\n    var val = keyframes[key];\n    acc[val] = makeComposition([key], [val], true);\n    return acc;\n  }, {});\n\n  var exports = Object.keys(classes).reduce(function(acc, key) {\n    var val = classes[key];\n    var composition = compositions[key];\n    var extended = composition ? getClassChain(composition) : [];\n    var allClasses = [key].concat(extended);\n    var unscoped = allClasses.map(function(name) {\n      return classes[name] ? classes[name] : name;\n    });\n    acc[val] = makeComposition(allClasses, unscoped);\n    return acc;\n  }, keyframesObj);\n\n  return exports;\n}\n\nfunction getClassChain(obj) {\n  var visited = {}, acc = [];\n\n  function traverse(obj) {\n    return Object.keys(obj).forEach(function(key) {\n      if (!visited[key]) {\n        visited[key] = true;\n        acc.push(key);\n        traverse(obj[key]);\n      }\n    });\n  }\n\n  traverse(obj);\n  return acc;\n}\n",
    "'use strict';\n\nmodule.exports = {\n  makeComposition: makeComposition,\n  isComposition: isComposition,\n  ignoreComposition: ignoreComposition\n};\n\n/**\n * Returns an immutable composition object containing the given class names\n * @param  {array} classNames - The input array of class names\n * @return {Composition}      - An immutable object that holds multiple\n *                              representations of the class composition\n */\nfunction makeComposition(classNames, unscoped, isAnimation) {\n  var classString = classNames.join(' ');\n  return Object.create(Composition.prototype, {\n    classNames: { // the original array of class names\n      value: Object.freeze(classNames),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    unscoped: { // the original array of class names\n      value: Object.freeze(unscoped),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    className: { // space-separated class string for use in HTML\n      value: classString,\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    selector: { // comma-separated, period-prefixed string for use in CSS\n      value: classNames.map(function(name) {\n        return isAnimation ? name : '.' + name;\n      }).join(', '),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    toString: { // toString() method, returns class string for use in HTML\n      value: function() {\n        return classString;\n      },\n      configurable: false,\n      writeable: false,\n      enumerable: false\n    }\n  });\n}\n\n/**\n * Returns whether the input value is a Composition\n * @param value      - value to check\n * @return {boolean} - whether value is a Composition or not\n */\nfunction isComposition(value) {\n  return value instanceof Composition;\n}\n\nfunction ignoreComposition(values) {\n  return values.reduce(function(acc, val) {\n    if (isComposition(val)) {\n      val.classNames.forEach(function(name, i) {\n        acc[name] = val.unscoped[i];\n      });\n    }\n    return acc;\n  }, {});\n}\n\n/**\n * Private constructor for use in `instanceof` checks\n */\nfunction Composition() {}\n",
    "'use strict';\n\nvar extractExtends = require('./css-extract-extends');\nvar composition = require('./composition');\nvar isComposition = composition.isComposition;\nvar ignoreComposition = composition.ignoreComposition;\nvar buildExports = require('./build-exports');\nvar scopify = require('./scopeify');\nvar cssKey = require('./css-key');\nvar extractExports = require('./extract-exports');\n\nmodule.exports = function csjsTemplate(opts) {\n  opts = (typeof opts === 'undefined') ? {} : opts;\n  var noscope = (typeof opts.noscope === 'undefined') ? false : opts.noscope;\n\n  return function csjsHandler(strings, values) {\n    // Fast path to prevent arguments deopt\n    var values = Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++) {\n      values[i - 1] = arguments[i];\n    }\n    var css = joiner(strings, values.map(selectorize));\n    var ignores = ignoreComposition(values);\n\n    var scope = noscope ? extractExports(css) : scopify(css, ignores);\n    var extracted = extractExtends(scope.css);\n    var localClasses = without(scope.classes, ignores);\n    var localKeyframes = without(scope.keyframes, ignores);\n    var compositions = extracted.compositions;\n\n    var exports = buildExports(localClasses, localKeyframes, compositions);\n\n    return Object.defineProperty(exports, cssKey, {\n      enumerable: false,\n      configurable: false,\n      writeable: false,\n      value: extracted.css\n    });\n  }\n}\n\n/**\n * Replaces class compositions with comma seperated class selectors\n * @param  value - the potential class composition\n * @return       - the original value or the selectorized class composition\n */\nfunction selectorize(value) {\n  return isComposition(value) ? value.selector : value;\n}\n\n/**\n * Joins template string literals and values\n * @param  {array} strings - array of strings\n * @param  {array} values  - array of values\n * @return {string}        - strings and values joined\n */\nfunction joiner(strings, values) {\n  return strings.map(function(str, i) {\n    return (i !== values.length) ? str + values[i] : str;\n  }).join('');\n}\n\n/**\n * Returns first object without keys of second\n * @param  {object} obj      - source object\n * @param  {object} unwanted - object with unwanted keys\n * @return {object}          - first object without unwanted keys\n */\nfunction without(obj, unwanted) {\n  return Object.keys(obj).reduce(function(acc, key) {\n    if (!unwanted[key]) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\n",
    "'use strict';\n\nvar makeComposition = require('./composition').makeComposition;\n\nvar regex = /\\.([^\\s]+)(\\s+)(extends\\s+)(\\.[^{]+)/g;\n\nmodule.exports = function extractExtends(css) {\n  var found, matches = [];\n  while (found = regex.exec(css)) {\n    matches.unshift(found);\n  }\n\n  function extractCompositions(acc, match) {\n    var extendee = getClassName(match[1]);\n    var keyword = match[3];\n    var extended = match[4];\n\n    // remove from output css\n    var index = match.index + match[1].length + match[2].length;\n    var len = keyword.length + extended.length;\n    acc.css = acc.css.slice(0, index) + \" \" + acc.css.slice(index + len + 1);\n\n    var extendedClasses = splitter(extended);\n\n    extendedClasses.forEach(function(className) {\n      if (!acc.compositions[extendee]) {\n        acc.compositions[extendee] = {};\n      }\n      if (!acc.compositions[className]) {\n        acc.compositions[className] = {};\n      }\n      acc.compositions[extendee][className] = acc.compositions[className];\n    });\n    return acc;\n  }\n\n  return matches.reduce(extractCompositions, {\n    css: css,\n    compositions: {}\n  });\n\n};\n\nfunction splitter(match) {\n  return match.split(',').map(getClassName);\n}\n\nfunction getClassName(str) {\n  var trimmed = str.trim();\n  return trimmed[0] === '.' ? trimmed.substr(1) : trimmed;\n}\n",
    "'use strict';\n\n/**\n * CSS identifiers with whitespace are invalid\n * Hence this key will not cause a collision\n */\n\nmodule.exports = ' css ';\n",
    "'use strict';\n\nvar regex = require('./regex');\nvar classRegex = regex.classRegex;\nvar keyframesRegex = regex.keyframesRegex;\n\nmodule.exports = extractExports;\n\nfunction extractExports(css) {\n  return {\n    css: css,\n    keyframes: getExport(css, keyframesRegex),\n    classes: getExport(css, classRegex)\n  };\n}\n\nfunction getExport(css, regex) {\n  var prop = {};\n  var match;\n  while((match = regex.exec(css)) !== null) {\n    var name = match[2];\n    prop[name] = name;\n  }\n  return prop;\n}\n",
    "'use strict';\n\nvar cssKey = require('./css-key');\n\nmodule.exports = function getCss(csjs) {\n  return csjs[cssKey];\n};\n",
    "'use strict';\n\n/**\n * djb2 string hash implementation based on string-hash module:\n * https://github.com/darkskyapp/string-hash\n */\n\nmodule.exports = function hashStr(str) {\n  var hash = 5381;\n  var i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i)\n  }\n  return hash >>> 0;\n};\n",
    "'use strict';\n\nvar findClasses = /(\\.)(?!\\d)([^\\s\\.,{\\[>+~#:)]*)(?![^{]*})/.source;\nvar findKeyframes = /(@\\S*keyframes\\s*)([^{\\s]*)/.source;\nvar ignoreComments = /(?!(?:[^*/]|\\*[^/]|\\/[^*])*\\*+\\/)/.source;\n\nvar classRegex = new RegExp(findClasses + ignoreComments, 'g');\nvar keyframesRegex = new RegExp(findKeyframes + ignoreComments, 'g');\n\nmodule.exports = {\n  classRegex: classRegex,\n  keyframesRegex: keyframesRegex,\n  ignoreComments: ignoreComments,\n};\n",
    "var ignoreComments = require('./regex').ignoreComments;\n\nmodule.exports = replaceAnimations;\n\nfunction replaceAnimations(result) {\n  var animations = Object.keys(result.keyframes).reduce(function(acc, key) {\n    acc[result.keyframes[key]] = key;\n    return acc;\n  }, {});\n  var unscoped = Object.keys(animations);\n\n  if (unscoped.length) {\n    var regexStr = '((?:animation|animation-name)\\\\s*:[^};]*)('\n      + unscoped.join('|') + ')([;\\\\s])' + ignoreComments;\n    var regex = new RegExp(regexStr, 'g');\n\n    var replaced = result.css.replace(regex, function(match, preamble, name, ending) {\n      return preamble + animations[name] + ending;\n    });\n\n    return {\n      css: replaced,\n      keyframes: result.keyframes,\n      classes: result.classes\n    }\n  }\n\n  return result;\n}\n",
    "'use strict';\n\nvar encode = require('./base62-encode');\nvar hash = require('./hash-string');\n\nmodule.exports = function fileScoper(fileSrc) {\n  var suffix = encode(hash(fileSrc));\n\n  return function scopedName(name) {\n    return name + '_' + suffix;\n  }\n};\n",
    "'use strict';\n\nvar fileScoper = require('./scoped-name');\nvar replaceAnimations = require('./replace-animations');\nvar regex = require('./regex');\nvar classRegex = regex.classRegex;\nvar keyframesRegex = regex.keyframesRegex;\n\nmodule.exports = scopify;\n\nfunction scopify(css, ignores) {\n  var makeScopedName = fileScoper(css);\n  var replacers = {\n    classes: classRegex,\n    keyframes: keyframesRegex\n  };\n\n  function scopeCss(result, key) {\n    var replacer = replacers[key];\n    function replaceFn(fullMatch, prefix, name) {\n      var scopedName = ignores[name] ? name : makeScopedName(name);\n      result[key][scopedName] = name;\n      return prefix + scopedName;\n    }\n    return {\n      css: result.css.replace(replacer, replaceFn),\n      keyframes: result.keyframes,\n      classes: result.classes\n    };\n  }\n\n  var result = Object.keys(replacers).reduce(scopeCss, {\n    css: css,\n    keyframes: {},\n    classes: {}\n  });\n\n  return replaceAnimations(result);\n}\n",
    "var inserted = {};\n\nmodule.exports = function (css, options) {\n    if (inserted[css]) return;\n    inserted[css] = true;\n    \n    var elem = document.createElement('style');\n    elem.setAttribute('type', 'text/css');\n\n    if ('textContent' in elem) {\n      elem.textContent = css;\n    } else {\n      elem.styleSheet.cssText = css;\n    }\n    \n    var head = document.getElementsByTagName('head')[0];\n    if (options && options.prepend) {\n        head.insertBefore(elem, head.childNodes[0]);\n    } else {\n        head.appendChild(elem);\n    }\n};\n",
    "module.exports = function yoyoifyAppendChild (el, childs) {\n  for (var i = 0; i < childs.length; i++) {\n    var node = childs[i]\n    if (Array.isArray(node)) {\n      yoyoifyAppendChild(el, node)\n      continue\n    }\n    if (typeof node === 'number' ||\n      typeof node === 'boolean' ||\n      node instanceof Date ||\n      node instanceof RegExp) {\n      node = node.toString()\n    }\n    if (typeof node === 'string') {\n      if (el.lastChild && el.lastChild.nodeName === '#text') {\n        el.lastChild.nodeValue += node\n        continue\n      }\n      node = document.createTextNode(node)\n    }\n    if (node && node.nodeType) {\n      el.appendChild(node)\n    }\n  }\n}\n",
    "var bel = require('bel')\nvar csjs = require('csjs-inject')\n\nvar css = csjs`\n  html { box-sizing: border-box; }\n  *, *:before, *:after { box-sizing: inherit; }\n  body { margin: 0; }\n  .mediabox {\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    height: 100vh;\n    padding: 50px;\n    align-items: center;\n  }\n  .selector {\n    display: block;\n  }\n  .processing {\n    position: absolute;\n    visibility: hidden;\n  }\n  .button {\n    width: 100px;\n  }\n`\n\nvar width = 240 // width of incoming video\nvar height = 0 // will be computed from width and aspect ratio of stream\nvar streaming = false\n\nvar localMediaStream = null\n\nvar action = {\n  play: playVideo,\n  snap: takePicture,\n  save: savePicture,\n  start: start\n}\n\nvar videoSelect = bel`<select class=\"${css.selector}\"></select>`\nvar audioInputSelect = bel`<select class=\"${css.selector}\"></select>`\nvar audioOutputSelect = bel`<select class=\"${css.selector}\"></select>`\nvar video = bel`<video class=\"video\" oncanplay=${action.play} controls>Video stream not available.</video>`\n// var audio = element.querySelector('audio') // <audio>\nvar canvas = bel`<canvas></canvas>`\nvar photo = bel`<img alt=\"The screen capture will appear in this box.\">`\nvar processing = bel`<canvas class=\"${css.processing}\"></canvas>`\n\nvar element = bel`\n  <div class=\"${css.mediabox}\">\n    <h1> works only on <code>https</code> or <code> localhost </code> </h1>\n    ${videoSelect}\n    ${audioInputSelect}\n    ${audioOutputSelect}\n    <div class=\"camera\">\n      <h1> Camera </h1>\n      ${video}\n      <button class=\"${css.button}\" onclick=${action.start}>\n        Start Camera\n      </button>\n    </div>\n    <div class=\"canvas\">\n      <h1> Canvas </h1>\n      ${canvas}\n      ${processing}\n      <button class=\"${css.button}\" onclick=${action.snap}>\n        Snap photo\n      </button>\n    </div>\n    <div>\n      <h1> Image </h1>\n      ${photo}\n      <button class=\"${css.button}\" onclick=${action.save}>\n        Save photo\n      </button>\n    </div>\n  </div>\n`\n\ndocument.body.appendChild(element)\n\nfunction playVideo (event) {\n  if (!streaming) {\n    video.setAttribute('width', width)\n    video.setAttribute('height', height)\n    canvas.setAttribute('width', width)\n    canvas.setAttribute('height', height)\n    streaming = true\n  }\n}\n\nfunction takePicture (event) {\n  event.preventDefault()\n  snapshot(localMediaStream)\n}\n\nvar filter = {\n  crazy: function filter (ctx, photo) {\n    ctx.filter = 'grayscale(0%) blur(3px) brightness(170%) contrast(128%) hue-rotate(230deg) opacity(100%) invert(30%) saturate(500%) sepia(24%)'\n  },\n  crazyAlternative: function alternativeFilter (ctx, /* ctx.getImageData */data) {\n    data = data || ctx.getImageData(0, 0, ctx.canvas.clientWidth, ctx.canvas.clientHeight)\n    for (var n = 0; n < data.width * data.height; n++) { // make all pixels grey\n      // take the red, green and blue channels and reduce the data value by 255\n      var index = n * 4\n      data.data[index + 0] = 255 - data.data[index + 0]\n      data.data[index + 1] = 255 - data.data[index + 1]\n      data.data[index + 2] = 255 - data.data[index + 2]\n    }\n    return data\n  },\n  greyscale: function greyscaleFilter (ctx, /* rgba value array */data) {\n    data = data || ctx.getImageData(0, 0, ctx.canvas.clientWidth, ctx.canvas.clientHeight)\n    var r, g, b, brightness\n    for (var i = 0, len = data.length; i < len; i += 4) {\n      r = data[i]\n      b = data[i + 1]\n      g = data[i + 2]\n      // alpha = data[i+3]\n      brightness = (r + b + g) / 3\n      data[i] = data[i + 1] = data[i + 2] = brightness\n    }\n    return data\n  }\n}\n\nrefreshDevices()\n\nfunction refreshDevices () {\n  if (!(navigator.mediaDevices || navigator.mediaDevices.enumerateDevices)) return\n\n  while (videoSelect.firstChild) videoSelect.removeChild(videoSelect.firstChild)\n  while (audioInputSelect.firstChild) audioInputSelect.removeChild(audioInputSelect.firstChild)\n  while (audioOutputSelect.firstChild) audioOutputSelect.removeChild(audioOutputSelect.firstChild)\n\n  // List cameras and microphones\n  navigator.mediaDevices.enumerateDevices().then(function (devices) {\n    devices.forEach(function (device) {\n      console.log(device.kind + ': ' + device.label + ' (id = ' + device.deviceId + ')')\n      // e.g.\n      // videoinput: id = csO9c0YpAf274OuCPUA53CNE0YHlIr2yXCi+SqfBZZ8=\n      // audioinput: id = RKxXByjnabbADGQNNZqLVLdmXlS0YkETYCIbg+XxnvM=\n      // audioinput: id = r2/xw1xUPIyZunfV1lGrKOma5wTOvCkWfZ368XCndm0=\n      // or if active or persistent permissions are granted:\n      // videoinput: FaceTime HD Camera (Built-in) id=csO9c0YpAf274OuCPUA53CNE0YHlIr2yXCi+SqfBZZ8=\n      // audioinput: default (Built-in Microphone) id=RKxXByjnabbADGQNNZqLVLdmXlS0YkETYCIbg+XxnvM=\n      // audioinput: Built-in Microphone id=r2/xw1xUPIyZunfV1lGrKOma5wTOvCkWfZ368XCndm0=\n      var option = document.createElement('option')\n      option.value = device.deviceId\n      if (device.kind === 'audioinput') {\n        option.text = device.label || 'Microphone ' + (audioInputSelect.length + 1)\n        audioInputSelect.appendChild(option)\n      } else if (device.kind === 'audiooutput') {\n        option.text = device.label || 'Speaker ' + (audioOutputSelect.length + 1)\n        audioOutputSelect.appendChild(option)\n      } else if (device.kind === 'videoinput') {\n        option.text = device.label || 'Camera ' + (videoSelect.length + 1)\n        videoSelect.appendChild(option)\n      }\n    })\n  }).catch(handleError)\n}\n\nfunction snapshot (localMediaStream) {\n  var ctx = processing.getContext('2d') // context\n  if (width && height) {\n    processing.width = width\n    processing.height = height\n    // canvas.width = video.clientWidth\n    // canvas.height = video.clientHeight\n\n    // The <canvas> API's ctx.drawImage(video, 0, 0) method\n    // makes it trivial to draw <video> frames to <canvas>.\n    ctx.drawImage(video, 0, 0, width, height)\n\n    // var data = filter.crazy(ctx)\n    var data = filter.crazyAlternative(ctx)\n    ctx.putImageData(data, 0, 0)\n\n    // \"image/webp\" works in Chrome.\n    // Other browsers will fall back to image/png.\n    var dataURL = processing.toDataURL('image/webp', 0.95)\n    if (dataURL && dataURL !== 'data:,') photo.setAttribute('src', dataURL)\n    else console.error('Image not available')\n  } else clearphoto()\n}\n\nfunction clearphoto () {\n  var ctx = canvas.getContext('2d') // context\n  ctx.fillStyle = '#AAA'\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\n  var data = canvas.toDataURL('image/png')\n  photo.setAttribute('src', data)\n}\n\nfunction savePicture (event) {\n  var fileName = generateImageName()\n  fileName = fileName + '.txt'\n  var dataURL = photo.getAttribute('src')\n  console.log('DOWNLOAD', fileName, dataURL)\n  // ... save/upload logic here ...\n}\n\nfunction generateImageName () {\n  // ... generate image name logic here ...\n  return 'imageName' + Math.floor(Math.random())\n}\n\nfunction start () {\n  stopVideo()\n  clearphoto()\n  // var audioSource = audioInputSelect.value\n  var videoSource = videoSelect.value\n  // var constraints = { video: true, audio: false }\n  // var constraints = { video: { facingMode: 'user' } }\n  //   var constraints = {\n  //     audio: { optional: [{sourceId: device.deviceId}] },\n  //     video: { optional: [{sourceId: device.deviceId}] }\n  //   }\n  // var constraints = { audio: true, video: { width: 1280, height: 720 } }\n  // var constraints = { video: { frameRate: { ideal: 10, max: 15 } } }\n  // var constraints = { video: { facingMode: (front? \"user\" : \"environment\") } }\n  // var constraints = {\n  //   video: {\n  //     // constraints: https://w3c.github.io/mediacapture-main/getusermedia.html#idl-def-MediaTrackConstraints\n  //     mandatory: { // hdConstraints\n  //       minWidth: 1280,\n  //       minHeight: 720\n  //     }\n  //     // mandatory: { // vgaConstraints\n  //     //   maxWidth: 640,\n  //     //   maxHeight: 360\n  //     // }\n  //   },\n  //   audio: true\n  //   /*...*/\n  // }\n  var constraints = {\n    // audio: { deviceId: audioSource ? { exact: audioSource } : undefined },\n    video: { deviceId: videoSource ? { exact: videoSource } : undefined }\n  }\n  if (navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia(constraints)\n      .then(gotStream)\n      .catch(handleError)\n  } else {\n    video.src = 'fallback.webm'\n  }\n}\n\nfunction stopVideo () {\n  if (localMediaStream) {\n    localMediaStream.getTracks().forEach(function (track) { track.stop() })\n    localMediaStream = null\n  }\n}\n\nfunction gotStream (stream) {\n  // Instead of feeding the video a URL to a media file, we're feeding it a\n  // Blob URL obtained from a LocalMediaStream object representing the webcam\n  // https://www.html5rocks.com/en/tutorials/workers/basics/#toc-inlineworkers-bloburis\n  // video.src = window.URL.createObjectURL(localMediaStream)\n  localMediaStream = stream\n  video.srcObject = stream\n\n  // Adding controls also works as you'd expected\n  // video.play()\n  // vs.\n  video.onloadedmetadata = function (e) { // to unfreeze\n    width = video.videoWidth\n    height = video.videoHeight / (video.videoWidth / width)\n    video.play() // or <video autoplay></video>\n  }\n\n  video.onplay = function () {\n    var context = canvas.getContext('2d')\n    draw(video, context, 400, 300)\n  }\n}\n\nfunction draw (video, context) {\n  context.drawImage(video, 0, 0, width, height)\n  var image = context.getImageData(0, 0, width, height)\n  // image.data = filter.crazy(image.data)\n  // image.data = filter.crazyAlternative(image.data)\n  image.data = filter.greyscale(null, image.data)\n  context.putImageData(image, 0, 0)\n  setTimeout(function () { draw(video, context) }, 16) // for 60 fps\n}\n\n// function video2canvas (video, canvas) {\n//   var vid = video || document.createElement('video')\n//   return image2canvas(vid, canvas)\n// }\n// function image2canvas (image, canvas) {\n//   var can = canvas || document.createElement('canvas')\n//   can.width = image.width\n//   can.height = image.height\n//   var context = can.getContext('2d')\n//   context.drawImage(image, 0, 0/*, image.width, image.height */)\n//   return can\n// }\n//\n// function canvas2image (canvas, image, format) {\n//   var img = image || new Image() // a little bit faster than document.createElement\n//   img.src = canvas.toDataURL(format || 'image/png')\n//   return img\n// }\n\nfunction handleError (error) {\n  if (error) console.error(error.name + ': ' + error.message)\n  console.error('navigator.getUserMedia error: ', error)\n}\n// /////////////////////////\n// RECORD\n// ////////////////////////\n// var media = {\n//   video: {\n//     tag: 'video',\n//     type: 'video/webm',\n//     ext: '.mp4'\n//   },\n//   audio: {\n//     tag: 'audio',\n//     type: 'audio/ogg',\n//     ext: '.ogg'\n//   }\n// }\n// var recorder = new MediaRecorder(stream)\n// recorder.ondataavailable = function (event) {\n//   chunks.push(event.data)\n//   if(recorder.state == 'inactive')  makeLink()\n// }\n// recorder.start()\n// // https://github.com/Mido22/MediaRecorder-sample/blob/master/script.js\n// setTimeout(function () {\n//   recorder.stop()\n// }, 5000)\n// function makeLink(){\n//   var blob = new Blob(chunks, {type: media.type })\n//   var url = URL.createObjectURL(blob)\n//   var li = document.createElement('li')\n//   var mt = document.createElement(media.tag)\n//   var hf = document.createElement('a')\n//   mt.controls = true\n//   mt.src = url\n//   hf.href = url\n//   hf.download = `${counter++}${media.ext}`\n//   hf.innerHTML = `donwload ${hf.download}`\n//   li.appendChild(mt)\n//   li.appendChild(hf)\n//   ul.appendChild(li)\n// }\n// function makeLink() {\n// chunks = [];\n// recorder = new MediaRecorder(stream);\n// recorder.ondataavailable = e => {\n//   chunks.push(e.data);\n//   if (recorder.state == 'inactive') makeLink();\n// };\n// recorder.stop();\n//\n//   let blob = new Blob(chunks, {\n//       type: media.type\n//     }),\n//     url = URL.createObjectURL(blob),\n//\n//     mt = document.createElement(media.tag),\n//     hf = document.createElement('a');\n//\n//   mt.controls = true;\n//   mt.src = url;\n//\n//   hf.href = url;\n//   hf.download = `${counter++}${media.ext}`;\n//   hf.innerHTML = `donwload ${hf.download}`;\n// }\n"
  ]
}